<!--
    @license
    Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
    This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
    The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
    The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
    Code distributed by Google as part of the polymer project is also
    subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<script>var gadash=gadash||{};gadash.auth=gadash.auth||{};gadash.auth.config={};gadash.userInfo={};gadash.isLoaded=false;gadash.auth.SCOPES_=["https://www.googleapis.com/auth/analytics.readonly","https://www.googleapis.com/auth/userinfo.email"];gadash.commandQueue_=[];gadash.init=function(authConfig){gadash.util.extend(authConfig,gadash.auth.config);gadash.util.loadJs_(["https://www.google.com/jsapi?autoload="+encodeURIComponent('{"modules":[{"name":"visualization","version":"1",'+'"callback":"__globalCallback","packages":["corechart","table"]}]}'),"https://apis.google.com/js/client.js?onload=__globalCallback"],window.gadashInit_,true)};gadash.auth.onUnAuthorizedDefault=function(){document.getElementById("gadash-auth").innerHTML='<button id="authorize-button">Authorize Analytics</button>';document.getElementById("authorize-button").onclick=gadash.auth.authorize};gadash.auth.onAuthorizedDefault=function(){var status="You are authorized";if(gadash.userInfo.email){status+=" as "+gadash.userInfo.email}document.getElementById("gadash-auth").innerHTML=status+' <button id="authorize-button">Logout</button>';document.getElementById("authorize-button").onclick=gadash.auth.accountLogout};gadash.auth.accountLogout=function(){window.document.location="https://accounts.google.com/logout"};window.gadashInit_=function(){gapi.client.setApiKey(gadash.auth.config.apiKey);window.setTimeout(gadash.auth.checkAuth_,1)};gadash.auth.checkAuth_=function(){gapi.auth.authorize({client_id:gadash.auth.config.clientId,scope:gadash.auth.SCOPES_,immediate:true},gadash.auth.handleAuthResult_)};gadash.auth.handleAuthResult_=function(authResult){if(authResult){var version=gadash.auth.config.version||"v3";gapi.client.load("analytics",version,gadash.auth.loadUserName_)}else{if(gadash.util.getType(gadash.auth.config.onUnAuthorized)=="function"){if(gadash.auth.config.onUnAuthorized()!==false){gadash.auth.onUnAuthorizedDefault()}}else{gadash.auth.onUnAuthorizedDefault()}}};gadash.auth.loadUserName_=function(){gapi.client.request({path:"/oauth2/v2/userinfo"}).execute(gadash.auth.loadUserNameHander_)};gadash.auth.loadUserNameHander_=function(response){gadash.userInfo=response;if(gadash.userInfo.email){gadash.userInfo.email=gadash.util.htmlEscape(gadash.userInfo.email)}if(gadash.util.getType(gadash.auth.config.onAuthorized)=="function"){if(gadash.auth.config.onAuthorized()!==false){gadash.auth.onAuthorizedDefault()}}else{gadash.auth.onAuthorizedDefault()}gadash.isLoaded=true;gadash.util.pubsub.publish(gadash.util.pubsub.libsLoaded)};gadash.auth.authorize=function(){gapi.auth.authorize({client_id:gadash.auth.config.clientId,scope:gadash.auth.SCOPES_,immediate:false},gadash.auth.handleAuthResult_);return false};gadash.auth.executeCommandQueue_=function(){for(var i=0,command;command=gadash.commandQueue_[i];++i){command()}};gadash.control=gadash.control||{};gadash.GaControl=function(settings){this.settings=settings;this.configObj;this.configLastObj;this.configLastKey;var vals=gadash.control.getConfigObjDetails(this.settings["configObjKey"]);this.configObj=vals["configObj"];this.configLastObj=vals["configLastObj"];this.configLastKey=vals["configLastKey"];return this};gadash.GaControl.prototype.getValue=function(){var val=this.settings.getValue.apply(this);return val};gadash.GaControl.prototype.getConfig=function(){this.configLastObj[this.configLastKey]=this.getValue();return this.configObj};gadash.getTextInputControl=function(id,configObjKey){return new gadash.GaControl({id:id,configObjKey:configObjKey,getValue:gadash.control.getTextInputValue})};gadash.control.getTextInputValue=function(){return document.getElementById(this.settings.id).value};gadash.control.getConfigObjDetails=function(dotNotation){var configObj=configLastObj={};var keys=dotNotation.split(".");for(var i=0;i<keys.length-1;++i){var key=keys[i];configLastObj[key]={};configLastObj=configLastObj[key]}var configLastKey=keys[keys.length-1];configLastObj[configLastKey]={};return{configObj:configObj,configLastObj:configLastObj,configLastKey:configLastKey}};gadash.util=gadash.util||{};gadash.util.convertDateFormat=function(dataTable){var isStrDate=new String(dataTable.getValue(0,0));var datePattern=/^(20)\d{2}(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])$/;if(isStrDate.search(datePattern)==0){dataTable=gadash.util.convertToMMMd(dataTable)}};gadash.util.convertToMMMd=function(dTable){var numberOfRows=dTable.getNumberOfRows();for(var rowIndex=0;rowIndex<numberOfRows;rowIndex++){dTable.setValue(rowIndex,0,gadash.util.stringDateToString(dTable.getValue(rowIndex,0)))}return dTable};gadash.util.stringDateToString=function(date){var datePattern=/^(20)\d{2}(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])$/;if(date.search(datePattern)==0){var monthMap={"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"};var month=date.substring(4,6);var monthStr=monthMap[month];var day=date.substring(6,8);if(day<10){day=day.substring(1,2)}date=monthStr+" "+day}return date};gadash.util.bindMethod=function(object,method){return function(){return method.apply(object,arguments)}};gadash.util.lastNdays=function(n){var today=new Date;var before=new Date;before.setDate(today.getDate()-n);var year=before.getFullYear();var month=before.getMonth()+1;if(month<10){month="0"+month}var day=before.getDate();if(day<10){day="0"+day}return[year,month,day].join("-")};gadash.util.lastNweeks=function(n){var today=new Date;var before=new Date;n=n*7;before.setDate(today.getDate()-n);var year=before.getFullYear();var month=before.getMonth()+1;if(month<10){month="0"+month}var day=before.getDate();if(day<10){day="0"+day}return[year,month,day].join("-")};gadash.util.lastNmonths=function(n){var date=new Date;if(n<=0)return[date.getFullYear(),date.getMonth()+1,date.getDate()].join("-");var years=Math.floor(n/12);var months=n%12;if(years>0)date.setFullYear(date.getFullYear()-years);if(months>0){if(months>=date.getMonth()){date.setFullYear(date.getFullYear()-1);months=12-months;date.setMonth(date.getMonth()+months)}else{date.setMonth(date.getMonth()-months)}}var day=date.getDate();day=day<10?"0"+day:day;var month=date.getMonth()+1;month=month<10?"0"+month:month;return[date.getFullYear(),month,day].join("-")};gadash.util.stringToDate=function(date){var year=date.substring(0,4);var month=date.substring(4,6);var day=date.substring(6,8);if(month<10){month=month.substring(1,2)}month=month-1;if(day<10){day=day.substring(1,2)}var dateObj=new Date(year,month,day);return dateObj};gadash.util.formatGAString=function(gaString){var newString=gaString.substring(3);newString=newString.charAt(0).toUpperCase()+newString.slice(1);for(var i=1;i<newString.length;i++){if(newString.charAt(i)==newString.charAt(i).toUpperCase()){var left=newString.substring(0,i);var right=newString.substring(i,newString.length);newString=[left,right].join(" ");i++}}return newString};gadash.util.extend=function(from,to){for(var key in from){if(from[key]!==null&&from[key]!==undefined){var type=gadash.util.getType(from[key]);if(type=="object"){to[key]=to[key]||{};gadash.util.extend(from[key],to[key])}else{to[key]=from[key]}}}};gadash.util.getType=function(value){var classStringName=Object.prototype.toString.call(value);return{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Array]":"array","[object Date]":"date","[object RegExp]":"regex","[object Function]":"function","[object Object]":"object"}[classStringName]};gadash.util.htmlEscape=function(str){var allRe=/[&<>\"]/;if(!allRe.test(str)){return str}if(str.indexOf("&")!=-1){str=str.replace(/&/g,"&amp;")}if(str.indexOf("<")!=-1){str=str.replace(/</g,"&lt;")}if(str.indexOf(">")!=-1){str=str.replace(/>/g,"&gt;")}if(str.indexOf('"')!=-1){str=str.replace(/"/g,"&quot;")}return str};gadash.util.loadJs_Resource=function(url,opt_callback){var js=document.createElement("script");js.async=true;js.src=url;if(opt_callback){js.onload=opt_callback}var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(js,s)};window.__globalCallback={};gadash.util.loadJs_=function(urls,finalCallback,opt_useGlobal){var callback=gadash.getIncrementalCallback(urls.length,finalCallback);if(opt_useGlobal){window.__globalCallback=callback}for(var i=0,url;url=urls[i];++i){if(opt_useGlobal){gadash.util.loadJs_Resource(url)}else{gadash.util.loadJs_Resource(url,callback)}}};gadash.getIncrementalCallback=function(numberOfCallbacks,finalCallback){var callbackCount=0;return function(){++callbackCount;if(callbackCount>=numberOfCallbacks){finalCallback()}}};gadash.util.getElement=function(elementId){if(gadash.util.getType(elementId)=="string"){return document.getElementById(elementId)}return elementId};gadash.util.getLoaderUri=function(){return["data:image/gif;base64,R0lGODlhIAAgAPYAAP///3d3d/v7++/v7+bm5ufn5/X19f","z8/Pn5+djY2LCwsJubm6CgoL+/v+jo6Pj4+ODg4J+fn3l5eYaGhu7u7vPz88rKys/Pz/","f398DAwISEhJOTk9nZ2ezs7Orq6re3t5aWloyMjI6OjtDQ0LW1tX5+fomJidHR0aSkpP","T09L6+voiIiH19fdLS0oWFheHh4YKCgnx8fIuLi729vd7e3peXl4CAgLS0tMTExMPDw4","ODg8HBwdfX15CQkNra2sXFxZqamunp6c7Ozt3d3eLi4uPj46ampoqKisLCwrm5ubOzs7","u7u3t7e9vb29PT07i4uMbGxq6urq+vr9bW1uvr66qqqtXV1dTU1La2tuTk5Ly8vKWlpZ","GRkd/f3/Dw8Pr6+vb29vHx8Y2Njaurq6ioqPLy8rKysgAAAAAAAAAAAAAAAAAAAAAAAA","AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA","AAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW","5mbwAh+QQJCgAAACwAAAAAIAAgAAAH/4AAgoOEhYaHiImKi4yNjQeGCCkCjoYpBDQFKY","MCHDMElYQeKgw1DA1BkAg5QAmhghUfKxK0Jh8VBwcOPBWFFR0PiQIJILTGGwmQALmEKU","tGTgiIDxYhxrUW0ocEGyUKBogIFyLXEiEnlIcVz9GIBwQMLNcMRMrqHsGJBiMLGjYuC4","RgeFXoAAYPLVSQ2OEDHMFBCCBkIJGBwwAD6Rwx45QggoYSAF+8cmDBAoVBAxSUu5GvUY","UnE0zscEhgQbkFvRxRMEJLQc4CDMoxyNkIA5QaC0YMBGCgwQRjLnBkbGSACBGHyxwo2G","BiA4mTDwtS4HAigQOMYQ89eGEhBy97iZg2uoOAQsYEED82xSVigcZSdSRgGAMyJC6HGi","42ZEPUAUUMYyFGKEOAQRtTEiVoRaGCqIKCzLRA+AAgoAiSJCdyYlABg0kJKUQLdtSgo8","eMAbqMwCjRwwK4d0ZqGJkytdCDBDM+WOhwQJwMY0Y8CDrgoUkBy4gEVKiQD4GQI7RKRC","cENxQB3bwt/E1LmsYMJSbZFxJggLujQAAh+QQJCgAAACwAAAAAIAAgAAAH/4AAgoOEgw","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","A7AAAAAAAAAAAA"].join("")};gadash.util.pubsub=gadash.util.pubsub||{};gadash.util.pubsub.libsLoaded="LIBS_LOADED";gadash.util.pubsub.map={};gadash.util.pubsub.subscribe=function(message,func){if(!gadash.util.pubsub.map[message]){gadash.util.pubsub.map[message]=[]}gadash.util.pubsub.map[message].push(func)};gadash.util.pubsub.publish=function(message){if(gadash.util.pubsub.map[message]&&gadash.util.pubsub.map[message].length){for(var i=0,func;func=gadash.util.pubsub.map[message][i];++i){func()}}};gadash.util.save=function(key,data){if(localStorage&&JSON){localStorage.setItem(key,JSON.stringify(data))}};gadash.util.load=function(key){if(localStorage&&JSON){return JSON.parse(localStorage.getItem(key))}};gadash.util.displayError=function(message){var errorDiv=document.getElementById("errors");if(!errorDiv){errorDiv=document.createElement("div");errorDiv.style.color="red";errorDiv.setAttribute("id","errors");errorDiv.innerHTML="ERRORS:"+"<br>";document.body.appendChild(errorDiv)}errorDiv.innerHTML+=gadash.util.htmlEscape(message)+"<br>"};var gadash=gadash||{};gadash.commandQueue_=[];gadash.executeCommandQueue_=function(){for(var i=0,command;command=gadash.commandQueue_[i];++i){command()}};gadash.util.pubsub.subscribe(gadash.util.pubsub.libsLoaded,gadash.executeCommandQueue_);gadash.GaQuery=function(opt_config){this.config={};this.setConfig(opt_config);return this};gadash.GaQuery.prototype.setConfig=function(config){gadash.util.extend(config,this.config);return this};gadash.GaQuery.prototype.execute=function(opt_config){if(opt_config)this.setConfig(opt_config);if(gadash.isLoaded){this.executeFunction_()}else{var executeFunction_=gadash.util.bindMethod(this,this.executeFunction_);gadash.commandQueue_.push(executeFunction_)}return this};gadash.GaQuery.prototype.executeFunction_=function(){this.executeHandlers_("onRequest","onRequestDefault")};gadash.GaQuery.prototype.callback=function(response){this.executeHandlers_("onResponse","onResponseDefault");if(response.error){this.executeHandlers_("onError","onErrorDefault",response.error)}else{this.executeHandlers_("onSuccess","onSuccessDefault",response)}};gadash.GaQuery.prototype.executeHandlers_=function(userFunction,defaultFunction,opt_args){var userFunc=this.config[userFunction];var defaultFunc=this.config[defaultFunction];if(gadash.util.getType(userFunc)=="function"){if(gadash.util.bindMethod(this,userFunc)(opt_args)!==false&&defaultFunc){gadash.util.bindMethod(this,defaultFunc)(opt_args)}}else if(defaultFunc){gadash.util.bindMethod(this,defaultFunc)(opt_args)}};gadash.onErrorDefault=function(error){var errorDiv=document.getElementById("errors");if(!errorDiv){errorDiv=document.createElement("div");errorDiv.style.color="red";errorDiv.setAttribute("id","errors");errorDiv.innerHTML="ERRORS:"+"<br />";document.body.appendChild(errorDiv)}errorDiv.innerHTML+=" error: "+error.code+" "+error.message+"<br />"};gadash.core=gadash.core||{};gadash.getCoreQuery=function(opt_config){return new gadash.GaQuery({onRequestDefault:gadash.core.onRequestDefault,onErrorDefault:gadash.onErrorDefault}).setConfig(opt_config)};gadash.core.onRequestDefault=function(){this.config.actualQuery=gadash.core.getCoreQueryObj(this.config);var request=gapi.client.analytics.data.ga.get(this.config.actualQuery);request.execute(gadash.util.bindMethod(this,this.callback))};gadash.core.getCoreQueryObj=function(config){var actualQuery={};if(config.query.ids){actualQuery.ids=config.query.ids}if(config.query.metrics){actualQuery.metrics=config.query.metrics.split(" ").join(",")}if(config.query.dimensions){actualQuery.dimensions=config.query.dimensions.split(" ").join(",")}if(config.query.filters){actualQuery.filters=config.query.filters}if(config.query.segment){actualQuery.segment=config.query.segment}if(config.query.sort){actualQuery.sort=config.query.sort.split(" ").join(",")}if(config.query.startIndex){actualQuery["start-index"]=config.query.startIndex}if(config.query.maxResults){actualQuery["max-results"]=config.query.maxResults}if(config.query.lastNdays){actualQuery["end-date"]=gadash.util.lastNdays(0);actualQuery["start-date"]=gadash.util.lastNdays(config.query.lastNdays)}else if(!config.query.startDate||!config.query.endDate){actualQuery["end-date"]=gadash.util.lastNdays(0);actualQuery["start-date"]=gadash.util.lastNdays(28)}else{actualQuery["end-date"]=config.query.endDate;actualQuery["start-date"]=config.query.startDate}return actualQuery};gadash.core.setDefaultDates=function(config){if(config["lastNdays"]){config.query["endDate"]=gadash.util.lastNdays(0);config.query["startDate"]=gadash.util.lastNdays(config["lastNdays"])}else{if(!config.query["startDate"]||!config.query["endDate"]){config.query["endDate"]=gadash.util.lastNdays(0);config.query["startDate"]=gadash.util.lastNdays(28)}}};gadash.gviz=gadash.gviz||{};gadash.gviz.onRequestDefault=function(){gadash.util.getElement(this.config.elementId).innerHTML=['<div class="ga-loader" ','style="color:#777;font-size:18px;overflow:hidden">','<img style="display:block;float:left" src="',gadash.util.getLoaderUri(),'">','<div style="margin:6px 0 0 12px;float:left">Loading...</div></p>'].join("");gadash.util.bindMethod(this,gadash.core.onRequestDefault)()};gadash.gviz.onResponseDefault=function(){gadash.util.getElement(this.config.elementId).innerHTML=""};gadash.gviz.onSuccessDefault=function(response){var dataTable=gadash.gviz.getDataTable(response,this.config.type);var chart=gadash.gviz.getChart(this.config.elementId,this.config.type);gadash.gviz.draw(chart,dataTable,this.config.chartOptions)};gadash.gviz.getDataTable=function(resp,opt_chartType){var chartType=opt_chartType||false;var data=new google.visualization.DataTable;var numOfColumns=resp.columnHeaders.length;var numOfRows;if(resp.rows&&resp.rows.length){numOfRows=resp.rows.length}else{gadash.util.displayError("No rows returned for that query.")}for(var i=0;i<numOfColumns;i++){var dataType=resp.columnHeaders[i].dataType;var name=resp.columnHeaders[i].name;if(name=="ga:date"&&!(chartType=="ColumnChart"||chartType=="BarChart")){dataType="date"}else if(dataType=="STRING"){dataType="string"}else{dataType="number"}data.addColumn(dataType,gadash.util.formatGAString(name))}for(var i=0;i<numOfRows;i++){var arrayMetrics=[];for(var j=0;j<numOfColumns;j++){var name=resp.columnHeaders[j].name;var dataType=resp.columnHeaders[j].dataType;if(name=="ga:date"&&!(chartType=="ColumnChart"||chartType=="BarChart")){arrayMetrics.push(gadash.util.stringToDate(resp.rows[i][j]))}else if(dataType=="INTEGER"){arrayMetrics.push(parseInt(resp.rows[i][j]))}else if(dataType=="CURRENCY"){arrayMetrics.push(parseFloat(resp.rows[i][j]))}else if(dataType=="PERCENT"||dataType=="TIME"||dataType=="FLOAT"){arrayMetrics.push(Math.round(resp.rows[i][j]*100)/100)}else{arrayMetrics.push(resp.rows[i][j])}}data.addRow(arrayMetrics)}for(var i=0;i<numOfColumns;i++){var dataType=resp.columnHeaders[i].dataType;if(dataType=="CURRENCY"){var formatter=new google.visualization.NumberFormat({fractionDigits:2});formatter.format(data,i)}}return data};gadash.gviz.getChart=function(id,chartType){var elem=gadash.util.getElement(id);if(google.visualization[chartType]){return new google.visualization[chartType](elem)}return new google.visualization.Table(elem)};gadash.gviz.draw=function(chart,dataTable,chartOptions){gadash.util.convertDateFormat(dataTable);gadash.gviz.createDateFormater(dataTable);chart.draw(dataTable,chartOptions)};gadash.gviz.createDateFormater=function(dataTable){var dateFormatter=new google.visualization.DateFormat({pattern:"MMM d"});dateFormatter.format(dataTable,0)};gadash.gviz.coreChartConfig={onRequestDefault:gadash.gviz.onRequestDefault,onResponseDefault:gadash.gviz.onResponseDefault,onSuccessDefault:gadash.gviz.onSuccessDefault,onErrorDefault:gadash.onErrorDefault};gadash.getCoreChart=function(opt_config){return(new gadash.GaQuery).setConfig(gadash.gviz.coreChartConfig).setConfig(opt_config)};gadash.getCoreLineChart=function(var_args){var argsObj=gadash.gviz.getCommonConfigFromArgs(arguments);return new gadash.GaQuery(gadash.gviz.coreChartConfig).setConfig(argsObj.baseConfig).setConfig(gadash.gviz.defaultGvizChartOptions).setConfig(gadash.gviz.areaChart).setConfig(argsObj.userConfig)};gadash.getCorePieChart=function(var_args){var baseConfig={elementId:"",query:{ids:"",metrics:"",sort:"",dimensions:"",maxResults:5}};var argSetters=[function(obj,arg){obj.elementId=arg},function(obj,arg){obj.query.metrics=arg;obj.query.sort="-"+arg},function(obj,arg){obj.query.dimensions=arg},function(obj,arg){obj.query.ids=arg}];var argsObj=gadash.gviz.getConfigFromArgs(baseConfig,argSetters,arguments);return new gadash.GaQuery(gadash.gviz.coreChartConfig).setConfig(argsObj.baseConfig).setConfig(gadash.gviz.defaultGvizChartOptions).setConfig(gadash.gviz.pieChart).setConfig(argsObj.userConfig)};gadash.getCoreBarChart=function(var_args){var argsObj=gadash.gviz.getCommonConfigFromArgs(arguments);return new gadash.GaQuery(gadash.gviz.coreChartConfig).setConfig(argsObj.baseConfig).setConfig(gadash.gviz.defaultGvizChartOptions).setConfig(gadash.gviz.barChart).setConfig(argsObj.userConfig)};gadash.getCoreColumnChart=function(var_args){var argsObj=gadash.gviz.getCommonConfigFromArgs(arguments);return new gadash.GaQuery(gadash.gviz.coreChartConfig).setConfig(argsObj.baseConfig).setConfig(gadash.gviz.defaultGvizChartOptions).setConfig(gadash.gviz.columnChart).setConfig(argsObj.userConfig)};gadash.gviz.getConfigFromArgs=function(baseConfig,argSetters,args){var userConfig;for(var i=0;i<args.length;++i){var arg=args[i];if(gadash.util.getType(arg)=="object"){userConfig=arg;break}else if(i<argSetters.length){argSetters[i](baseConfig,arg)}}return{baseConfig:baseConfig,userConfig:userConfig}};gadash.gviz.getCommonConfigFromArgs=function(args){var baseConfig={elementId:"",query:{ids:"",metrics:"",dimensions:"ga:date"}};var argSetters=[function(obj,arg){obj.elementId=arg},function(obj,arg){obj.query.metrics=arg},function(obj,arg){obj.query.ids=arg}];return gadash.gviz.getConfigFromArgs(baseConfig,argSetters,args)};gadash.gviz.defaultGvizChartOptions={chartOptions:{height:300,width:450,fontSize:12,curveType:"function",chartArea:{width:"100%"},titleTextStyle:{fontName:"Arial",fontSize:15,bold:false}}};gadash.gviz.lineChart={type:"LineChart",chartOptions:{pointSize:6,lineWidth:4,areaOpacity:.1,legend:{position:"top",alignment:"start"},colors:["#058dc7","#d14836"],hAxis:{format:"MMM d",gridlines:{color:"transparent"},baselineColor:"transparent"},vAxis:{gridlines:{color:"#efefef",logScale:"true",count:3},textPosition:"in"}}};gadash.gviz.areaChart={type:"AreaChart",chartOptions:{pointSize:6,lineWidth:4,areaOpacity:.1,legend:{position:"top",alignment:"start"},colors:["#058dc7"],hAxis:{format:"MMM d",gridlines:{count:3,color:"transparent"},baselineColor:"transparent"},vAxis:{gridlines:{color:"#efefef",logScale:"true",count:3},textPosition:"in"}}};gadash.gviz.pieChart={type:"PieChart",chartOptions:{legend:{position:"right",textStyle:{bold:"true",fontSize:13},alignment:"center",pieSliceText:"none"}}};gadash.gviz.barChart={type:"BarChart",chartOptions:{legend:{position:"top",alignment:"start"},colors:["#058dc7","#d14836"],hAxis:{gridlines:{count:3,color:"#efefef"},minValue:0,baselineColor:"transparent"},vAxis:{gridlines:{color:"transparent"},count:3,textPosition:"in"}}};gadash.gviz.columnChart={type:"ColumnChart",chartOptions:{legend:{position:"top",alignment:"start"},colors:["#058dc7","#d14836"],hAxis:{gridlines:{count:3,color:"transparent"},baselineColor:"transparent"},vAxis:{gridlines:{color:"#efefef",count:3},minValue:0,textPosition:"in"},chartArea:{width:"90%"}}};gadash.ui=gadash.ui||{};gadash.ui.acct=gadash.ui.acct||{};gadash.ui.acct.cache={};gadash.getProfileSelect=function(elementId){return new gadash.ui.ProfileSelect(elementId)};gadash.ui.ProfileSelect=function(elementId){this.elementId=elementId;this.selected={};this.isFromLoad=false;this.initView(elementId);if(gadash.isLoaded){this.initLoad()}else{gadash.util.pubsub.subscribe(gadash.util.pubsub.libsLoaded,gadash.util.bindMethod(this,this.initLoad))}};gadash.ui.ProfileSelect.prototype.initLoad=function(){var selected=gadash.util.load(this.elementId);if(selected){this.selected=selected;this.isFromLoad=true}this.addChangeHandler("acct-select");this.addChangeHandler("property-select");this.addChangeHandler("profile-select");this.loadAccounts()};gadash.ui.ProfileSelect.prototype.addChangeHandler=function(selectId){this.getElement(this.getId_(selectId)).addEventListener("change",gadash.util.bindMethod(this,this.getChangeHandler(selectId)))};gadash.ui.ProfileSelect.prototype.getElement=function(opt_elementId){var opt_elementId=opt_elementId||false;var element=gadash.util.getElement(this.elementId);if(opt_elementId){element=element.querySelector("#"+opt_elementId)}return element};gadash.ui.ProfileSelect.prototype.getTableId=function(){return"ga:"+this.selected.profileId};gadash.ui.ProfileSelect.prototype.getTableIdConfig=function(){return{query:{ids:this.getTableId()}}};gadash.ui.ProfileSelect.prototype.getId_=function(id){var elementId=gadash.util.getElement(this.elementId).id;return elementId+"-"+id};gadash.ui.ProfileSelect.prototype.initView=function(){gadash.util.getElement(this.elementId).innerHTML=['<div style="margin-top:5px">Select an account: ','<select id="',this.getId_("acct-select"),'">',"<option>Loading...</option></select></div>",'<div style="margin-top:5px">Select a property: ','<select id="',this.getId_("property-select"),'">',"<option>Loading...</option></select></div>",'<div style="margin-top:5px">Select a profile: ','<select id="',this.getId_("profile-select"),'">',"<option>Loading...</option></select></div>"].join("")};gadash.ui.ProfileSelect.prototype.loadAccounts=function(){gapi.client.analytics.management.accounts.list().execute(gadash.util.bindMethod(this,this.handleAccounts))};gadash.ui.ProfileSelect.prototype.handleAccounts=function(results){if(!this.isError(results)){if(!this.isFromLoad){this.selected.accountId=results.items[0].id}gadash.ui.acct.sortResults(results);this.getElement(this.getId_("acct-select")).innerHTML=gadash.ui.acct.getOptionsFromResults(results,this.selected.accountId);this.loadProperties()}};gadash.ui.ProfileSelect.prototype.isError=function(results){if(results.error){var message="There was an API error in the account picker: "+results.error.message;gadash.util.displayError(message);return true}else if(!results.items||!results.items.length){switch(results.kind){case"analytics#account":this.getElement(this.getId_("acct-select")).innerHTML=gadash.ui.acct.getOption("none","No account found");case"analytics#webproperty":this.getElement(this.getId_("acct-select")).innerHTML=gadash.ui.acct.getOption("none","No properties found");case"analytics#profile":this.getElement(this.getId_("acct-select")).innerHTML=gadash.ui.acct.getOption("none","No profiles found")}return true}return false};gadash.ui.ProfileSelect.prototype.getChangeHandler=function(selectId){return function(evt){switch(selectId){case"acct-select":this.selected.accountId=evt.target.value;this.loadProperties();break;case"property-select":this.selected.propertyId=evt.target.value;this.loadProfiles();break;case"profile-select":this.selected.profileId=evt.target.value;gadash.util.save(this.elementId,this.selected);break}}};gadash.ui.ProfileSelect.prototype.loadProperties=function(){var results=this.loadFromCache(this.selected.accountId);if(results){this.handleProperties(results)}else{gapi.client.analytics.management.webproperties.list({accountId:this.selected.accountId}).execute(gadash.util.bindMethod(this,this.handleProperties))}};gadash.ui.ProfileSelect.prototype.handleProperties=function(results){if(!this.isError(results)){gadash.ui.acct.sortResults(results);this.saveToCache(this.selected.accountId,results);if(!this.isFromLoad){this.selected.propertyId=results.items[0].id}this.getElement(this.getId_("property-select")).innerHTML=gadash.ui.acct.getOptionsFromResults(results,this.selected.propertyId);this.loadProfiles()}};gadash.ui.ProfileSelect.prototype.loadProfiles=function(){var results=this.loadFromCache(this.selected.propertyId);if(results){this.handleProfiles(results)}else{gapi.client.analytics.management.profiles.list({accountId:this.selected.accountId,webPropertyId:this.selected.propertyId}).execute(gadash.util.bindMethod(this,this.handleProfiles))}};gadash.ui.ProfileSelect.prototype.handleProfiles=function(results){if(!this.isError(results)){gadash.ui.acct.sortResults(results);this.saveToCache(this.selected.propertyId,results);if(!this.isFromLoad){this.selected.profileId=results.items[0].id}this.getElement(this.getId_("profile-select")).innerHTML=gadash.ui.acct.getOptionsFromResults(results,this.selected.profileId);gadash.util.save(this.elementId,this.selected);this.isFromLoad=false}};gadash.ui.acct.getOptionsFromResults=function(results,opt_selectedId){var selectedId=opt_selectedId||"";var output=[];for(var i=0,item;item=results.items[i];++i){var isSelected=item.id==selectedId?true:false;if(item.profileCount==0){continue}output.push(gadash.ui.acct.getOption(item.id,item.name,isSelected))}return output.join("")};gadash.ui.acct.getOption=function(id,name,opt_isSelected){var selected=opt_isSelected?" selected ":"";return['<option value="',id,'"',selected,">",gadash.util.htmlEscape(name),"</option>"].join("")};gadash.ui.ProfileSelect.prototype.saveToCache=function(key,data){gadash.ui.acct.cache[this.elementId]=gadash.ui.acct.cache[this.elementId]||{};
gadash.ui.acct.cache[this.elementId][key]=data};gadash.ui.ProfileSelect.prototype.loadFromCache=function(key){if(gadash.ui.acct.cache[this.elementId]){return gadash.ui.acct.cache[this.elementId][key]}};gadash.ui.acct.sortResults=function(results){results.items.sort(function(a,b){if(a.name.toLowerCase()<b.name.toLowerCase()){return-1}else if(a.name.toLowerCase()>b.name.toLowerCase()){return 1}return 0})};gadash.getGaComponent=function(opt_objects){return(new gadash.GaComponent).add(opt_objects)};gadash.GaComponent=function(){this.objects_=[];return this};gadash.GaComponent.prototype.add=function(object){if(gadash.util.getType(object)=="array"){for(var i=0,obj;obj=object[i];++i){this.add(obj)}}else{this.objects_.push(object)}return this};gadash.GaComponent.prototype.getConfig=function(){var config={};for(var i=0,object;object=this.objects_[i];++i){if(object.getConfig){gadash.util.extend(object.getConfig(),config)}}return config};gadash.GaComponent.prototype.setConfig=function(config){for(var i=0,object;object=this.objects_[i];++i){if(object.setConfig){object.setConfig(config)}}return this};gadash.GaComponent.prototype.execute=function(opt_config){var config=this.getConfig();if(opt_config){gadash.util.extend(opt_config,config)}for(var i=0,object;object=this.objects_[i];++i){if(object.execute){object.execute(config)}}return this};</script><script>Polymer={},"function"==typeof window.Polymer&&(Polymer={}),function(a){function b(a,b){return a&&b&&Object.getOwnPropertyNames(b).forEach(function(c){var d=Object.getOwnPropertyDescriptor(b,c);d&&(Object.defineProperty(a,c,d),"function"==typeof d.value&&(d.value.nom=c))}),a}a.extend=b}(Polymer),function(a){function b(a,b,d){return a?a.stop():a=new c(this),a.go(b,d),a}var c=function(a){this.context=a,this.boundComplete=this.complete.bind(this)};c.prototype={go:function(a,b){this.callback=a;var c;b?(c=setTimeout(this.boundComplete,b),this.handle=function(){clearTimeout(c)}):(c=requestAnimationFrame(this.boundComplete),this.handle=function(){cancelAnimationFrame(c)})},stop:function(){this.handle&&(this.handle(),this.handle=null)},complete:function(){this.handle&&(this.stop(),this.callback.call(this.context))}},a.job=b}(Polymer),function(){var a={};HTMLElement.register=function(b,c){a[b]=c},HTMLElement.getPrototypeForTag=function(b){var c=b?a[b]:HTMLElement.prototype;return c||Object.getPrototypeOf(document.createElement(b))};var b=Event.prototype.stopPropagation;Event.prototype.stopPropagation=function(){this.cancelBubble=!0,b.apply(this,arguments)}}(Polymer),function(a){function b(a){var c=b.caller,g=c.nom,h=c._super;if(h||(g||(g=c.nom=e.call(this,c)),g||console.warn("called super() on a method not installed declaratively (has no .nom property)"),h=d(c,g,f(this))),h){var i=h[g];return i._super||d(i,g,h),i.apply(this,a||[])}}function c(a,b,c){for(;a;){if(a[b]!==c&&a[b])return a;a=f(a)}}function d(a,b,d){return a._super=c(d,b,a),a._super&&(a._super[b].nom=b),a._super}function e(a){for(var b=this.__proto__;b&&b!==HTMLElement.prototype;){for(var c,d=Object.getOwnPropertyNames(b),e=0,f=d.length;f>e&&(c=d[e]);e++){var g=Object.getOwnPropertyDescriptor(b,c);if("function"==typeof g.value&&g.value===a)return c}b=b.__proto__}}function f(a){return a.__proto__}a.super=b}(Polymer),function(a){function b(a,b){var d=typeof b;return b instanceof Date&&(d="date"),c[d](a,b)}var c={string:function(a){return a},date:function(a){return new Date(Date.parse(a)||Date.now())},"boolean":function(a){return""===a?!0:"false"===a?!1:!!a},number:function(a){var b=parseFloat(a);return 0===b&&(b=parseInt(a)),isNaN(b)?a:b},object:function(a,b){if(null===b)return a;try{return JSON.parse(a.replace(/'/g,'"'))}catch(c){return a}},"function":function(a,b){return b}};a.deserializeValue=b}(Polymer),function(a){var b=a.extend,c={};c.declaration={},c.instance={},c.publish=function(a,c){for(var d in a)b(c,a[d])},a.api=c}(Polymer),function(a){var b={async:function(a,b,c){Platform.flush(),b=b&&b.length?b:[b];var d=function(){(this[a]||a).apply(this,b)}.bind(this),e=c?setTimeout(d,c):requestAnimationFrame(d);return c?e:~e},cancelAsync:function(a){0>a?cancelAnimationFrame(~a):clearTimeout(a)},fire:function(a,b,c,d,e){var f=c||this,b=b||{},g=new CustomEvent(a,{bubbles:void 0!==d?d:!0,cancelable:void 0!==e?e:!0,detail:b});return f.dispatchEvent(g),g},asyncFire:function(){this.async("fire",arguments)},classFollows:function(a,b,c){b&&b.classList.remove(c),a&&a.classList.add(c)}},c=function(){},d={};b.asyncMethod=b.async,a.api.instance.utils=b,a.nop=c,a.nob=d}(Polymer),function(a){var b=window.logFlags||{},c="on-",d={EVENT_PREFIX:c,addHostListeners:function(){var a=this.eventDelegates;b.events&&Object.keys(a).length>0&&console.log("[%s] addHostListeners:",this.localName,a);var d,e,f=this;for(var g in a)e=c+g,(d=PolymerExpressions.prepareEventBinding(Path.get(a[g]),e,{resolveEventHandler:function(a,b){var c=b.getValueFrom(f);return c?c.bind(f):void 0}}))(this,this,!1)},dispatchMethod:function(a,c,d){if(a){b.events&&console.group("[%s] dispatch [%s]",a.localName,c);var e="function"==typeof c?c:a[c];e&&e[d?"apply":"call"](a,d),b.events&&console.groupEnd(),Platform.flush()}}};a.api.instance.events=d}(Polymer),function(a){var b={copyInstanceAttributes:function(){var a=this._instanceAttributes;for(var b in a)this.hasAttribute(b)||this.setAttribute(b,a[b])},takeAttributes:function(){if(this._publishLC)for(var a,b=0,c=this.attributes,d=c.length;(a=c[b])&&d>b;b++)this.attributeToProperty(a.name,a.value)},attributeToProperty:function(b,c){var b=this.propertyForAttribute(b);if(b){if(c&&c.search(a.bindPattern)>=0)return;var d=this[b],c=this.deserializeValue(c,d);c!==d&&(this[b]=c)}},propertyForAttribute:function(a){var b=this._publishLC&&this._publishLC[a];return b},deserializeValue:function(b,c){return a.deserializeValue(b,c)},serializeValue:function(a,b){return"boolean"===b?a?"":void 0:"object"!==b&&"function"!==b&&void 0!==a?a:void 0},reflectPropertyToAttribute:function(a){var b=typeof this[a],c=this.serializeValue(this[a],b);void 0!==c?this.setAttribute(a,c):"boolean"===b&&this.removeAttribute(a)}};a.api.instance.attributes=b}(Polymer),function(a){function b(a,b,d){c.bind&&console.log(e,inB.localName||"object",inPath,a.localName,b);var f=d.discardChanges();return(null===f||void 0===f)&&d.setValue(a[b]),Observer.bindToInstance(a,b,d)}var c=window.logFlags||{},d={observeProperties:function(){var a=this._observeNames,b=this._publishNames;if(a&&a.length||b&&b.length){var c=this._propertyObserver=new CompoundObserver;this.registerObservers([c]);for(var d,e=0,f=a.length;f>e&&(d=a[e]);e++){c.addPath(this,d);var g=Object.getOwnPropertyDescriptor(this.__proto__,d);g&&g.value&&this.observeArrayValue(d,g.value,null)}for(var d,e=0,f=b.length;f>e&&(d=b[e]);e++)this.observe&&void 0!==this.observe[d]||c.addPath(this,d);c.open(this.notifyPropertyChanges,this)}},notifyPropertyChanges:function(a,b,c){var d,e,f={};for(var g in b)d=c[2*g+1],void 0!==this.publish[d]&&this.reflectPropertyToAttribute(d),e=this.observe[d],e&&(this.observeArrayValue(d,a[g],b[g]),f[e]||(f[e]=!0,this.invokeMethod(e,[b[g],a[g],arguments])))},observeArrayValue:function(a,b,d){var e=this.observe[a];if(e&&(Array.isArray(d)&&(c.observe&&console.log("[%s] observeArrayValue: unregister observer [%s]",this.localName,a),this.closeNamedObserver(a+"__array")),Array.isArray(b))){c.observe&&console.log("[%s] observeArrayValue: register observer [%s]",this.localName,a,b);var f=new ArrayObserver(b);f.open(function(a,b){this.invokeMethod(e,[b])},this),this.registerNamedObserver(a+"__array",f)}},bindProperty:function(a,c){return b(this,a,c)},invokeMethod:function(a,b){var c=this[a]||a;"function"==typeof c&&c.apply(this,b)},registerObservers:function(a){this._observers.push(a)},closeObservers:function(){for(var a=0,b=this._observers.length;b>a;a++)this.closeObserverArray(this._observers[a]);this._observers=[]},closeObserverArray:function(a){for(var b,c=0,d=a.length;d>c;c++)b=a[c],b&&b.close&&b.close()},registerNamedObserver:function(a,b){var c=this._namedObservers||(this._namedObservers={});c[a]=b},closeNamedObserver:function(a){var b=this._namedObservers;return b&&b[a]?(b[a].close(),b[a]=null,!0):void 0},closeNamedObservers:function(){if(this._namedObservers){for(var a,b,c=Object.keys(this._namedObservers),d=0,e=c.length;e>d&&(a=c[d]);d++)b=this._namedObservers[a],b.close();this._namedObservers={}}}},e="[%s]: bindProperties: [%s] to [%s].[%s]";a.api.instance.properties=d}(Polymer),function(a){var b=window.logFlags||0,c={instanceTemplate:function(a){var b=this.syntax||!a.bindingDelegate&&this.element.syntax,c=a.createInstance(this,b);return this.registerObservers(c.bindings_),c},bind:function(a,b){var c=this.propertyForAttribute(a);if(c){var d=this.bindProperty(c,b);return this.reflectPropertyToAttribute(c),Platform.enableBindingsReflection&&(d.path=b.path_,this.bindings_=this.bindings_||{},this.bindings_[c]=d),d}return this.mixinSuper(arguments)},asyncUnbindAll:function(){this._unbound||(b.unbind&&console.log("[%s] asyncUnbindAll",this.localName),this._unbindAllJob=this.job(this._unbindAllJob,this.unbindAll,0))},unbindAll:function(){this._unbound||(this.closeObservers(),this.closeNamedObservers(),this._unbound=!0)},cancelUnbindAll:function(){return this._unbound?void(b.unbind&&console.warn("[%s] already unbound, cannot cancel unbindAll",this.localName)):(b.unbind&&console.log("[%s] cancelUnbindAll",this.localName),void(this._unbindAllJob&&(this._unbindAllJob=this._unbindAllJob.stop())))}},d=/\{\{([^{}]*)}}/;a.bindPattern=d,a.api.instance.mdv=c}(Polymer),function(a){function b(a){return a.hasOwnProperty("PolymerBase")}function c(){}var d={PolymerBase:!0,job:function(a,b,c){if("string"!=typeof a)return Polymer.job.call(this,a,b,c);var d="___"+a;this[d]=Polymer.job.call(this,this[d],b,c)},"super":Polymer.super,created:function(){},ready:function(){},createdCallback:function(){this.templateInstance&&this.templateInstance.model&&console.warn("Attributes on "+this.localName+" were data bound prior to Polymer upgrading the element. This may result in incorrect binding types."),this.created(),this.prepareElement()},prepareElement:function(){this._elementPrepared=!0,this.shadowRoots={},this._observers=[],this.observeProperties(),this.copyInstanceAttributes(),this.takeAttributes(),this.addHostListeners(),this.parseDeclarations(this.__proto__),this.removeAttribute("unresolved"),this.ready()},attachedCallback:function(){this.cancelUnbindAll(),this.attached&&this.attached(),this.enteredView&&this.enteredView(),this.hasBeenAttached||(this.hasBeenAttached=!0,this.domReady&&this.async("domReady"))},detachedCallback:function(){this.preventDispose||this.asyncUnbindAll(),this.detached&&this.detached(),this.leftView&&this.leftView()},enteredViewCallback:function(){this.attachedCallback()},leftViewCallback:function(){this.detachedCallback()},enteredDocumentCallback:function(){this.attachedCallback()},leftDocumentCallback:function(){this.detachedCallback()},parseDeclarations:function(a){a&&a.element&&(this.parseDeclarations(a.__proto__),a.parseDeclaration.call(this,a.element))},parseDeclaration:function(a){var b=this.fetchTemplate(a);if(b){var c=this.shadowFromTemplate(b);this.shadowRoots[a.name]=c}},fetchTemplate:function(a){return a.querySelector("template")},shadowFromTemplate:function(a){if(a){var b=this.createShadowRoot(),c=this.instanceTemplate(a);return b.appendChild(c),this.shadowRootReady(b,a),b}},lightFromTemplate:function(a,b){if(a){this.lightDomController=!0;var c=this.instanceTemplate(a);return b?this.insertBefore(c,b):this.appendChild(c),this.shadowRootReady(this),c}},shadowRootReady:function(a){this.marshalNodeReferences(a),PointerGestures.register(a)},marshalNodeReferences:function(a){var b=this.$=this.$||{};if(a)for(var c,d=a.querySelectorAll("[id]"),e=0,f=d.length;f>e&&(c=d[e]);e++)b[c.id]=c},attributeChangedCallback:function(a){"class"!==a&&"style"!==a&&this.attributeToProperty(a,this.getAttribute(a)),this.attributeChanged&&this.attributeChanged.apply(this,arguments)},onMutation:function(a,b){var c=new MutationObserver(function(a){b.call(this,c,a),c.disconnect()}.bind(this));c.observe(a,{childList:!0,subtree:!0})}};c.prototype=d,d.constructor=c,a.Base=c,a.isBase=b,a.api.instance.base=d}(Polymer),function(a){function b(a){return a.__proto__}function c(a,b){var c="",d=!1;b&&(c=b.localName,d=b.hasAttribute("is"));var e=Platform.ShadowCSS.makeScopeSelector(c,d);return Platform.ShadowCSS.shimCssText(a,e)}var d=(window.logFlags||{},"element"),e="controller",f={STYLE_SCOPE_ATTRIBUTE:d,installControllerStyles:function(){var a=this.findStyleScope();if(a&&!this.scopeHasNamedStyle(a,this.localName)){for(var c=b(this),d="";c&&c.element;)d+=c.element.cssTextForScope(e),c=b(c);d&&this.installScopeCssText(d,a)}},installScopeStyle:function(a,b,c){var c=c||this.findStyleScope(),b=b||"";if(c&&!this.scopeHasNamedStyle(c,this.localName+b)){var d="";if(a instanceof Array)for(var e,f=0,g=a.length;g>f&&(e=a[f]);f++)d+=e.textContent+"\n\n";else d=a.textContent;this.installScopeCssText(d,c,b)}},installScopeCssText:function(a,b,d){if(b=b||this.findStyleScope(),d=d||"",b){window.ShadowDOMPolyfill&&(a=c(a,b.host));var f=this.element.cssTextToScopeStyle(a,e);Polymer.applyStyleToScope(f,b),b._scopeStyles[this.localName+d]=!0}},findStyleScope:function(a){for(var b=a||this;b.parentNode;)b=b.parentNode;return b},scopeHasNamedStyle:function(a,b){return a._scopeStyles=a._scopeStyles||{},a._scopeStyles[b]}};a.api.instance.styles=f}(Polymer),function(a){function b(a,b){if(1===arguments.length&&"string"!=typeof arguments[0]){b=a;var c=document._currentScript;if(a=c&&c.parentNode&&c.parentNode.getAttribute?c.parentNode.getAttribute("name"):"",!a)throw"Element name could not be inferred."}if(f[a])throw"Already registered (Polymer) prototype for element "+a;e(a,b),d(a)}function c(a,b){h[a]=b}function d(a){h[a]&&(h[a].registerWhenReady(),delete h[a])}function e(a,b){return i[a]=b||{}}function f(a){return i[a]}var g=a.extend,h=(a.api,{}),i={};a.getRegisteredPrototype=f,a.waitingForPrototype=c,window.Polymer=b,g(Polymer,a);var j=Platform.deliverDeclarations();if(j)for(var k,l=0,m=j.length;m>l&&(k=j[l]);l++)b.apply(null,k)}(Polymer),function(a){var b={resolveElementPaths:function(a){Platform.urlResolver.resolveDom(a)},addResolvePathApi:function(){var a=this.getAttribute("assetpath")||"",b=new URL(a,this.ownerDocument.baseURI);this.prototype.resolvePath=function(a,c){var d=new URL(a,c||b);return d.href}}};a.api.declaration.path=b}(Polymer),function(a){function b(a,b){var c=new URL(a.getAttribute("href"),b).href;return"@import '"+c+"';"}function c(a,b){if(a){b===document&&(b=document.head),window.ShadowDOMPolyfill&&(b=document.head);var c=d(a.textContent),e=a.getAttribute(h);e&&c.setAttribute(h,e);var f=b.firstElementChild;if(b===document.head){var g="style["+h+"]",i=document.head.querySelectorAll(g);i.length&&(f=i[i.length-1].nextElementSibling)}b.insertBefore(c,f)}}function d(a,b){b=b||document,b=b.createElement?b:b.ownerDocument;var c=b.createElement("style");return c.textContent=a,c}function e(a){return a&&a.__resource||""}function f(a,b){return p?p.call(a,b):void 0}var g=(window.logFlags||{},a.api.instance.styles),h=g.STYLE_SCOPE_ATTRIBUTE,i="style",j="@import",k="link[rel=stylesheet]",l="global",m="polymer-scope",n={loadStyles:function(a){var b=this.templateContent();b&&this.convertSheetsToStyles(b);var c=this.findLoadableStyles(b);c.length?Platform.styleResolver.loadStyles(c,a):a&&a()},convertSheetsToStyles:function(a){for(var c,e,f=a.querySelectorAll(k),g=0,h=f.length;h>g&&(c=f[g]);g++)e=d(b(c,this.ownerDocument.baseURI),this.ownerDocument),this.copySheetAttributes(e,c),c.parentNode.replaceChild(e,c)},copySheetAttributes:function(a,b){for(var c,d=0,e=b.attributes,f=e.length;(c=e[d])&&f>d;d++)"rel"!==c.name&&"href"!==c.name&&a.setAttribute(c.name,c.value)},findLoadableStyles:function(a){var b=[];if(a)for(var c,d=a.querySelectorAll(i),e=0,f=d.length;f>e&&(c=d[e]);e++)c.textContent.match(j)&&b.push(c);return b},installSheets:function(){this.cacheSheets(),this.cacheStyles(),this.installLocalSheets(),this.installGlobalStyles()},cacheSheets:function(){this.sheets=this.findNodes(k),this.sheets.forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)})},cacheStyles:function(){this.styles=this.findNodes(i+"["+m+"]"),this.styles.forEach(function(a){a.parentNode&&a.parentNode.removeChild(a)})},installLocalSheets:function(){var a=this.sheets.filter(function(a){return!a.hasAttribute(m)}),b=this.templateContent();if(b){var c="";if(a.forEach(function(a){c+=e(a)+"\n"}),c){var f=d(c,this.ownerDocument);b.insertBefore(f,b.firstChild)}}},findNodes:function(a,b){var c=this.querySelectorAll(a).array(),d=this.templateContent();if(d){var e=d.querySelectorAll(a).array();c=c.concat(e)}return b?c.filter(b):c},installGlobalStyles:function(){var a=this.styleForScope(l);c(a,document.head)},cssTextForScope:function(a){var b="",c="["+m+"="+a+"]",d=function(a){return f(a,c)},g=this.sheets.filter(d);g.forEach(function(a){b+=e(a)+"\n\n"});var h=this.styles.filter(d);return h.forEach(function(a){b+=a.textContent+"\n\n"}),b},styleForScope:function(a){var b=this.cssTextForScope(a);return this.cssTextToScopeStyle(b,a)},cssTextToScopeStyle:function(a,b){if(a){var c=d(a);return c.setAttribute(h,this.getAttribute("name")+"-"+b),c}}},o=HTMLElement.prototype,p=o.matches||o.matchesSelector||o.webkitMatchesSelector||o.mozMatchesSelector;a.api.declaration.styles=n,a.applyStyleToScope=c}(Polymer),function(a){var b=(window.logFlags||{},a.api.instance.events),c=b.EVENT_PREFIX,d={parseHostEvents:function(){var a=this.prototype.eventDelegates;this.addAttributeDelegates(a)},addAttributeDelegates:function(a){for(var b,c=0;b=this.attributes[c];c++)this.hasEventPrefix(b.name)&&(a[this.removeEventPrefix(b.name)]=b.value.replace("{{","").replace("}}","").trim())},hasEventPrefix:function(a){return a&&"o"===a[0]&&"n"===a[1]&&"-"===a[2]},removeEventPrefix:function(a){return a.slice(e)}},e=c.length;a.api.declaration.events=d}(Polymer),function(a){var b={inferObservers:function(a){var b,c=a.observe;for(var d in a)"Changed"===d.slice(-7)&&(c||(c=a.observe={}),b=d.slice(0,-7),c[b]=c[b]||d)},explodeObservers:function(a){var b=a.observe;if(b){var c={};for(var d in b)for(var e,f=d.split(" "),g=0;e=f[g];g++)c[e]=b[d];a.observe=c}},optimizePropertyMaps:function(a){if(a.observe){var b=a._observeNames=[];for(var c in a.observe)for(var d,e=c.split(" "),f=0;d=e[f];f++)b.push(d)}if(a.publish){var b=a._publishNames=[];for(var c in a.publish)b.push(c)}},publishProperties:function(a,b){var c=a.publish;c&&(this.requireProperties(c,a,b),a._publishLC=this.lowerCaseMap(c))},requireProperties:function(a,b,c){for(var d in a)void 0===b[d]&&void 0===c[d]&&(b[d]=a[d])},lowerCaseMap:function(a){var b={};for(var c in a)b[c.toLowerCase()]=c;return b},createPropertyAccessors:function(a){var b=a._observeNames,c=a._publishNames;if(b&&b.length||c&&c.length){for(var d,e=0,f=b.length;f>e&&(d=b[e]);e++)Observer.createBindablePrototypeAccessor(a,d);for(var d,e=0,f=c.length;f>e&&(d=c[e]);e++)a.observe&&void 0!==a.observe[d]||Observer.createBindablePrototypeAccessor(a,d)}}};a.api.declaration.properties=b}(Polymer),function(a){var b="attributes",c=/\s|,/,d={inheritAttributesObjects:function(a){this.inheritObject(a,"publishLC"),this.inheritObject(a,"_instanceAttributes")},publishAttributes:function(a,d){var e=this.getAttribute(b);if(e)for(var f,g=a.publish||(a.publish={}),h=e.split(c),i=0,j=h.length;j>i;i++)f=h[i].trim(),f&&void 0===g[f]&&void 0===d[f]&&(g[f]=null)},accumulateInstanceAttributes:function(){for(var a,b=this.prototype._instanceAttributes,c=this.attributes,d=0,e=c.length;e>d&&(a=c[d]);d++)this.isInstanceAttribute(a.name)&&(b[a.name]=a.value)},isInstanceAttribute:function(a){return!this.blackList[a]&&"on-"!==a.slice(0,3)},blackList:{name:1,"extends":1,constructor:1,noscript:1,assetpath:1,"cache-csstext":1}};d.blackList[b]=1,a.api.declaration.attributes=d}(Polymer),function(a){function b(a){for(;a.parentNode;){if(a.lightDomController)return a;a=a.parentNode}return a.host}var c=new PolymerExpressions;c.resolveEventHandler=function(a,c,d){var e=b(d);if(e){var f=c.getValueFrom(e);if(f)return f.bind(e)}};var d={syntax:c,fetchTemplate:function(){return this.querySelector("template")},templateContent:function(){var a=this.fetchTemplate();return a&&templateContent(a)},installBindingDelegate:function(a){a&&(a.bindingDelegate=this.syntax)}};a.api.declaration.mdv=d}(Polymer),function(a){function b(a){if(!Object.__proto__){var b=Object.getPrototypeOf(a);a.__proto__=b,d(b)&&(b.__proto__=Object.getPrototypeOf(b))}}var c=a.api,d=a.isBase,e=a.extend,f={register:function(a,b){this.buildPrototype(a,b),this.registerPrototype(a,b),this.publishConstructor()},buildPrototype:function(b,c){var d=a.getRegisteredPrototype(b),e=this.generateBasePrototype(c);this.desugarBeforeChaining(d,e),this.prototype=this.chainPrototypes(d,e),this.desugarAfterChaining(b,c)},desugarBeforeChaining:function(a,b){a.element=this,this.publishAttributes(a,b),this.publishProperties(a,b),this.inferObservers(a),this.explodeObservers(a)},chainPrototypes:function(a,c){this.inheritMetaData(a,c);var d=this.chainObject(a,c);return b(d),d},inheritMetaData:function(a,b){this.inheritObject("observe",a,b),this.inheritObject("publish",a,b),this.inheritObject("_publishLC",a,b),this.inheritObject("_instanceAttributes",a,b),this.inheritObject("eventDelegates",a,b)},desugarAfterChaining:function(a,b){this.optimizePropertyMaps(this.prototype),this.createPropertyAccessors(this.prototype),this.installBindingDelegate(this.fetchTemplate()),this.installSheets(),this.resolveElementPaths(this),this.accumulateInstanceAttributes(),this.parseHostEvents(),this.addResolvePathApi(),window.ShadowDOMPolyfill&&Platform.ShadowCSS.shimStyling(this.templateContent(),a,b),this.prototype.registerCallback&&this.prototype.registerCallback(this)},publishConstructor:function(){var a=this.getAttribute("constructor");a&&(window[a]=this.ctor)},generateBasePrototype:function(a){var b=this.findBasePrototype(a);if(!b){var b=HTMLElement.getPrototypeForTag(a);b=this.ensureBaseApi(b),g[a]=b}return b},findBasePrototype:function(a){return g[a]},ensureBaseApi:function(a){if(a.PolymerBase)return a;var b=Object.create(a);return c.publish(c.instance,b),this.mixinMethod(b,a,c.instance.mdv,"bind"),b},mixinMethod:function(a,b,c,d){var e=function(a){return b[d].apply(this,a)};a[d]=function(){return this.mixinSuper=e,c[d].apply(this,arguments)}},inheritObject:function(a,b,c){var d=b[a]||{};b[a]=this.chainObject(d,c[a])},registerPrototype:function(a,b){var c={prototype:this.prototype},d=this.findTypeExtension(b);d&&(c.extends=d),HTMLElement.register(a,this.prototype),this.ctor=document.registerElement(a,c)},findTypeExtension:function(a){if(a&&a.indexOf("-")<0)return a;var b=this.findBasePrototype(a);return b.element?this.findTypeExtension(b.element.extends):void 0}},g={};f.chainObject=Object.__proto__?function(a,b){return a&&b&&a!==b&&(a.__proto__=b),a}:function(a,b){if(a&&b&&a!==b){var c=Object.create(b);a=e(c,a)}return a},c.declaration.prototype=f}(Polymer),function(a){function b(a){return document.contains(a)?g:f}function c(){return f.length?f[0]:g[0]}function d(a){e.waitToReady=!0,CustomElements.ready=!1,HTMLImports.whenImportsReady(function(){e.addReadyCallback(a),e.waitToReady=!1,e.check()})}var e={wait:function(a,b,c){return-1===this.indexOf(a)&&(this.add(a),a.__check=b,a.__go=c),0!==this.indexOf(a)},add:function(a){b(a).push(a)},indexOf:function(a){var c=b(a).indexOf(a);return c>=0&&document.contains(a)&&(c+=HTMLImports.useNative||HTMLImports.ready?f.length:1e9),c},go:function(a){var b=this.remove(a);b&&(b.__go.call(b),b.__check=b.__go=null,this.check())},remove:function(a){var c=this.indexOf(a);if(0===c)return b(a).shift()},check:function(){var a=this.nextElement();return a&&a.__check.call(a),this.canReady()?(this.ready(),!0):void 0},nextElement:function(){return c()},canReady:function(){return!this.waitToReady&&this.isEmpty()},isEmpty:function(){return!f.length&&!g.length},ready:function(){if(CustomElements.ready===!1&&(CustomElements.upgradeDocumentTree(document),CustomElements.ready=!0),h)for(var a;h.length;)(a=h.shift())()},addReadyCallback:function(a){a&&h.push(a)},waitToReady:!0},f=[],g=[],h=[];document.addEventListener("WebComponentsReady",function(){CustomElements.ready=!1}),a.queue=e,a.whenPolymerReady=d}(Polymer),function(a){function b(a,b){a?(document.head.appendChild(a),d(b)):b&&b()}function c(a,c){if(a&&a.length){for(var d,e,f=document.createDocumentFragment(),g=0,h=a.length;h>g&&(d=a[g]);g++)e=document.createElement("link"),e.rel="import",e.href=d,f.appendChild(e);b(f,c)}else c&&c()}var d=a.whenPolymerReady;a.import=c,a.importElements=b}(Polymer),function(a){function b(a){return Boolean(HTMLElement.getPrototypeForTag(a))}function c(a){return a&&a.indexOf("-")>=0}var d=a.extend,e=a.api,f=a.queue,g=a.whenPolymerReady,h=a.getRegisteredPrototype,i=a.waitingForPrototype,j=d(Object.create(HTMLElement.prototype),{createdCallback:function(){this.getAttribute("name")&&this.init()},init:function(){this.name=this.getAttribute("name"),this.extends=this.getAttribute("extends"),this.loadResources(),this.registerWhenReady()},registerWhenReady:function(){this.registered||this.waitingForPrototype(this.name)||this.waitingForQueue()||this.waitingForResources()||f.go(this)},_register:function(){c(this.extends)&&!b(this.extends)&&console.warn("%s is attempting to extend %s, an unregistered element or one that was not registered with Polymer.",this.name,this.extends),this.register(this.name,this.extends),this.registered=!0},waitingForPrototype:function(a){return h(a)?void 0:(i(a,this),this.handleNoScript(a),!0)},handleNoScript:function(a){if(this.hasAttribute("noscript")&&!this.noscript)if(this.noscript=!0,window.CustomElements&&!CustomElements.useNative)Polymer(a);else{var b=document.createElement("script");b.textContent="Polymer('"+a+"');",this.appendChild(b)}},waitingForResources:function(){return this._needsResources},waitingForQueue:function(){return f.wait(this,this.registerWhenReady,this._register)},loadResources:function(){this._needsResources=!0,this.loadStyles(function(){this._needsResources=!1,this.registerWhenReady()}.bind(this))}});e.publish(e.declaration,j),g(function(){document.body.removeAttribute("unresolved"),document.dispatchEvent(new CustomEvent("polymer-ready",{bubbles:!0}))}),document.registerElement("polymer-element",{prototype:j})}(Polymer);</script><polymer-element name="polymer-body" extends="body" assetpath="../bower_components/polymer/">
<script>document.addEventListener("polymer-ready",function(){Polymer("polymer-body",Platform.mixin({created:function(){this.template=document.createElement("template");var body=wrap(document).body;var c$=body.childNodes.array();for(var i=0,c;c=c$[i];i++){if(c.localName!=="script"){this.template.content.appendChild(c)}}window.model=this},parseDeclaration:function(elementElement){this.lightFromTemplate(this.template)}},window.model))});</script>
</polymer-element><polymer-element name="polymer-ui-card" attributes="swipeable noCurve" on-trackstart="{{trackStart}}" on-track="{{track}}" on-trackend="{{trackEnd}}" on-flick="{{flick}}" assetpath="../bower_components/polymer-ui-card/">
  <template>
    <style>:host{background-color:#fff;border-radius:2px;box-shadow:rgba(0,0,0,.098)0 2px 4px,rgba(0,0,0,.098)0 0 3px;-webkit-transition:all .3s ease-out;transition:all .3s ease-out}:host(.dark-shadow:host){box-shadow:rgba(0,0,0,.14902)0 2px 4px,rgba(0,0,0,.14902)0 0 3px}:host(.dragging:host){-webkit-transition:none;transition:none}</style>
    <content></content>
  </template>
  <script>Polymer("polymer-ui-card",{swipeable:false,noCurve:false,offsetRatio:.2,widthRatio:3,ready:function(){this.setAttribute("touch-action","pan-y");this.transitionEndListener=this.transitionEnd.bind(this)},leftView:function(){this.removeListeners()},addListeners:function(){this.addEventListener("webkitTransitionEnd",this.transitionEndListener);this.addEventListener("transitionend",this.transitionEndListener)},removeListeners:function(){this.removeEventListener("webkitTransitionEnd",this.transitionEndListener);this.removeEventListener("transitionend",this.transitionEndListener)},swipeableChanged:function(){if(this.swipeable){this.addListeners()}else{this.removeListeners()}},animate:function(x){var s=this.style;var d=x>0?1:-1;var w=this.w*this.widthRatio;var x1=Math.max(0,Math.abs(x)-this.w*this.offsetRatio);var r=Math.max(0,(w-x1)/w);var y=w-Math.sqrt(w*w-x1*x1);var deg=(1-r)*d*90;s.opacity=r;var translate="translate3d("+x+"px,"+(this.noCurve?0:y)+"px,0)";var rotate="rotate("+deg+"deg)";s.webkitTransform=s.mozTransform=s.msTransform=s.transform=translate+(this.noCurve?"":" "+rotate)},trackStart:function(e){if(this.swipeable){e.preventTap();this.w=this.offsetWidth;this.classList.add("dragging")}},track:function(e){if(this.swipeable){this.animate(e.dx)}},trackEnd:function(e){if(this.swipeable){this.swipeEnd(Math.abs(e.dx)>this.w/2&&e.dx*e.xDirection>0,e.dx>0)}},flick:function(e){if(this.swipeable&&!this.away){var v=e.xVelocity;this.swipeEnd(Math.abs(v)>2,v>0)}},swipeEnd:function(away,dir){this.classList.remove("dragging");this.away=away;if(away){var w=this.w*this.widthRatio;this.animate(dir?w:-w)}else{this.animate(0)}},transitionEnd:function(){if(this.away){this.fire("polymer-card-swipe-away")}}});</script>
</polymer-element><polymer-element name="core-theme-aware" attributes="theme" assetpath="../bower_components/core-theme-aware/">

  <script>Polymer.ThemeAware={defaultTheme:"",activeTheme:"",theme:"",validateTheme:function(){var theme=this.theme;var defaultTheme=this.defaultTheme;if(!theme){var p=this;while(p&&!theme){theme=p.getAttribute&&p.getAttribute("theme");defaultTheme=defaultTheme||p.defaultTheme;p=p.parentNode||p.host}}this.activeTheme=this.theme||theme||defaultTheme},themeChanged:function(){this.activeTheme=this.theme},activeThemeChanged:function(old){this.classList.switch(old,this.activeTheme)}};Polymer("core-theme-aware",Platform.mixin({attached:function(){this.validateTheme()}},Polymer.ThemeAware));</script>

</polymer-element><polymer-element name="core-toolbar" extends="core-theme-aware" assetpath="../bower_components/core-toolbar/">
<template>

  <style>:host{display:block;position:relative;box-sizing:border-box;-moz-box-sizing:border-box;height:64px;font-size:21px;box-shadow:0 4px 12px 0 rgba(0,0,0,.35);transition:height ease-in .18s}:host(.core-dark-theme){color:#eee}:host(.medium-tall){height:128px}:host(.tall){height:192px}:host(.seamed){box-shadow:none}.toolbar-tools,.toolbar-tools-middle,.toolbar-tools-bottom{height:64px;padding:0 9px}.toolbar-tools-middle{position:absolute;top:calc(50% - 30px);right:0;left:0;pointer-events:none}.toolbar-tools-bottom{position:absolute;right:0;bottom:0;left:0;pointer-events:none}::content[select=".middle"]>*,::content[select=".bottom"]>*{pointer-events:visible}::content>*{margin:0 8px}::content>.indent{margin-left:60px}</style>
  <style>[core-flow]{display:-webkit-box!important;display:-ms-flexbox!important;display:-moz-flex!important;display:-webkit-flex!important;display:flex!important}[core-flow=h]{-webkit-box-orient:horizontal;-ms-flex-direction:row;-moz-flex-direction:row;-webkit-flex-direction:row;flex-direction:row}[core-flow=h][core-reverse]{-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;-moz-flex-direction:row-reverse;-webkit-flex-direction:row-reverse;flex-direction:row-reverse}[core-flow=v]{-webkit-box-orient:vertical;-ms-flex-direction:column;-moz-flex-direction:column;-webkit-flex-direction:column;flex-direction:column}[core-flow=v][core-reverse]{-webkit-box-direction:reverse;-ms-flex-direction:column-reverse;-moz-flex-direction:column-reverse;-webkit-flex-direction:column-reverse;flex-direction:column-reverse}[core-relative]{position:relative}[core-fit]{position:absolute;top:0;left:0;height:100%;width:100%}body[core-fit]{margin:0}[core-flex]{-webkit-box-flex:1;-ms-flex:1;-moz-flex:1;-webkit-flex:1;flex:1}[core-flex=1]{-webkit-box-flex:1;-ms-flex:1;-moz-flex:1;-webkit-flex:1;flex:1}[core-flex=2]{-webkit-box-flex:2;-ms-flex:2;-moz-flex:2;-webkit-flex:2;flex:2}[core-flex=3]{-webkit-box-flex:3;-ms-flex:3;-moz-flex:3;-webkit-flex:3;flex:3}[core-flex=4]{-webkit-box-flex:4;-ms-flex:4;-moz-flex:4;-webkit-flex:4;flex:4}[core-flex=5]{-webkit-box-flex:5;-ms-flex:5;-moz-flex:5;-webkit-flex:5;flex:5}::content>[core-flex]{-webkit-box-flex:1;-ms-flex:1;-moz-flex:1;-webkit-flex:1;flex:1}::content>[core-flex=1]{-webkit-box-flex:1;-ms-flex:1;-moz-flex:1;-webkit-flex:1;flex:1}::content>[core-flex=2]{-webkit-box-flex:2;-ms-flex:2;-moz-flex:2;-webkit-flex:2;flex:2}::content>[core-flex=3]{-webkit-box-flex:3;-ms-flex:3;-moz-flex:3;-webkit-flex:3;flex:3}::content>[core-flex=4]{-webkit-box-flex:4;-ms-flex:4;-moz-flex:4;-webkit-flex:4;flex:4}::content>[core-flex=5]{-webkit-box-flex:5;-ms-flex:5;-moz-flex:5;-webkit-flex:5;flex:5}[justify=start]{-webkit-box-pack:start;-ms-flex-pack:start;-moz-justify-content:flex-start;-webkit-justify-content:flex-start;justify-content:flex-start}[core-justify=center]{-webkit-box-pack:center;-ms-flex-pack:center;-moz-justify-content:center;-webkit-justify-content:center;justify-content:center}[core-justify=end]{-webkit-box-pack:end;-ms-flex-pack:end;-moz-justify-content:flex-end;-webkit-justify-content:flex-end;justify-content:flex-end}[core-justify=between]{-webkit-box-pack:justify;-ms-flex-pack:justify;-moz-justify-content:space-between;-webkit-justify-content:space-between;justify-content:space-between}[core-align=start]{-webkit-box-align:start;-ms-flex-align:start;-moz-align-items:flex-start;-webkit-align-items:flex-start;align-items:flex-start}[core-align=center]{-webkit-box-align:center;-ms-flex-align:center;-moz-align-items:center;-webkit-align-items:center;align-items:center}[core-align=end]{-webkit-box-align:end;-ms-flex-align:end;-moz-align-items:flex-end;-webkit-align-items:flex-end;align-items:flex-end}</style>

  <div class="toolbar-tools-bottom" core-flow="" core-align="center">
    <content select=".bottom"></content>
  </div>
  
  <div class="toolbar-tools-middle" core-flow="" core-align="center">
    <content select=".middle"></content>
  </div>

  <div class="toolbar-tools" core-flow="" core-align="center">
    <content></content>
  </div>

</template>
<script>Polymer("core-toolbar",{defaultTheme:"core-light-theme"});</script>
</polymer-element><polymer-element name="core-xhr" assetpath="../bower_components/core-ajax/">

  <template>

    <style>:host{display:none}</style>

  </template>

  <script>Polymer("core-xhr",{makeReadyStateHandler:function(xhr,callback){xhr.onreadystatechange=function(){if(xhr.readyState==4){callback&&callback.call(null,xhr.response,xhr)}}},setRequestHeaders:function(xhr,headers){if(headers){for(var name in headers){xhr.setRequestHeader(name,headers[name])}}},toQueryString:function(params){var r=[];for(var n in params){var v=params[n];n=encodeURIComponent(n);r.push(v==null?n:n+"="+encodeURIComponent(v))}return r.join("&")},request:function(options){var xhr=new XMLHttpRequest;var url=options.url;var method=options.method||"GET";var async=!options.sync;var params=this.toQueryString(options.params);if(params&&method=="GET"){url+=(url.indexOf("?")>0?"&":"?")+params}xhr.open(method,url,async);if(options.responseType){xhr.responseType=options.responseType}if(options.withCredentials){xhr.withCredentials=true}this.makeReadyStateHandler(xhr,options.callback);this.setRequestHeaders(xhr,options.headers);xhr.send(method=="POST"?options.body||params:null);if(!async){xhr.onreadystatechange(xhr)}return xhr}});</script>
  
</polymer-element><polymer-element name="core-ajax" attributes="url handleAs auto params response method headers body contentType withCredentials" assetpath="../bower_components/core-ajax/">

  <script>Polymer("core-ajax",{url:"",handleAs:"",auto:false,params:"",response:null,method:"",headers:null,body:null,contentType:"application/x-www-form-urlencoded",withCredentials:false,ready:function(){this.xhr=document.createElement("core-xhr")},receive:function(response,xhr){if(this.isSuccess(xhr)){this.processResponse(xhr)}else{this.error(xhr)}this.complete(xhr)},isSuccess:function(xhr){var status=xhr.status||0;return!status||status>=200&&status<300},processResponse:function(xhr){var response=this.evalResponse(xhr);this.response=response;this.fire("core-response",{response:response,xhr:xhr})},error:function(xhr){var response=xhr.status+": "+xhr.responseText;this.fire("core-error",{response:response,xhr:xhr})},complete:function(xhr){this.fire("core-complete",{response:xhr.status,xhr:xhr})},evalResponse:function(xhr){return this[(this.handleAs||"text")+"Handler"](xhr)},xmlHandler:function(xhr){return xhr.responseXML},textHandler:function(xhr){return xhr.responseText},jsonHandler:function(xhr){var r=xhr.responseText;try{return JSON.parse(r)}catch(x){return r}},urlChanged:function(){if(!this.handleAs){var ext=String(this.url).split(".").pop();switch(ext){case"json":this.handleAs="json";break}}this.autoGo()},paramsChanged:function(){this.autoGo()},autoChanged:function(){this.autoGo()},autoGo:function(){if(this.auto){this.goJob=this.job(this.goJob,this.go,0)}},go:function(){var args=this.xhrArgs||{};if(this.method==="POST"){args.body=this.body||args.body}args.params=this.params||args.params;if(args.params&&typeof args.params=="string"){args.params=JSON.parse(args.params)}args.headers=this.headers||args.headers||{};if(args.headers&&typeof args.headers=="string"){args.headers=JSON.parse(args.headers)}if(this.contentType){args.headers["content-type"]=this.contentType}args.withCredentials=this.withCredentials;args.callback=this.receive.bind(this);args.url=this.url;args.method=this.method;return args.url&&this.xhr.request(args)}});</script>

</polymer-element><polymer-element name="ga-auth" attributes="apiKey clientId" assetpath="">
<template>
  <div id="loading" hidden?="{{!loading}}">authorizing ...</div>
  <template if="{{!loading}}">
    <template if="{{!authorized}}">
      <button on-click="{{authorize}}">Authorize Analytics</button>
    </template>
    <template if="{{authorized}}">
      <button on-click="{{logout}}">Logout</button>
    </template>
  </template>
</template>
<script>Polymer("ga-auth",{authorized:false,loading:true,ready:function(){if(this.apiKey&&this.clientId){gadash.init({apiKey:this.apiKey,clientId:this.clientId,onUnAuthorized:this.handleUnAuthorized.bind(this),onAuthorized:this.handleAuthorized.bind(this)})}},authorize:function(e,detail,sender){gadash.auth.authorize()},logout:function(e,detail,sender){gadash.auth.accountLogout()},handleUnAuthorized:function(){this.authorized=false;this.loading=false;return false},handleAuthorized:function(){this.authorized=true;this.loading=false;return false}});</script>

</polymer-element><polymer-element name="ga-chart" attributes="type auto ids metrics dimensions
                                             sort startDate endDate
                                             lastNays startIndex maxResults
                                             repo cmd version response" assetpath="">
<template>
  <style>:host{display:block}#myChart{display:inline-block}</style>
  <content></content>
  <div id="myChart"></div>
</template>
<script>Polymer("ga-chart",{type:"line",auto:false,response:null,cmd:null,repo:null,version:null,attached:function(){var typeMap={table:gadash.getCoreChart,line:gadash.getCoreLineChart,bar:gadash.getCoreBarChart,column:gadash.getCoreColumnChart,pie:gadash.getCorePieChart};this.gaQuery=typeMap[this.type](this.getConfig());this.gaQuery.config.elementId=this.$.myChart;if(this.auto&&this.gaQuery){this.gaQuery.execute()}},getConfig:function(){var ids=this.ids;var metrics=this.metrics;var dimensions=this.dimensions;var filters=this.getFilters();var segment=this.segment;var sort=this.sort;var startDate=this.startDate;var endDate=this.endDate;var lastNdays=this.lastNdays;var startIndex=this.startIndex;var maxResults=this.maxResults;var config={query:{ids:ids,metrics:metrics,dimensions:dimensions,filters:filters,segment:segment,sort:sort,startDate:startDate,endDate:endDate,lastNdays:lastNdays,startIndex:startIndex,maxResults:maxResults},onSuccess:function(response){this.response=response;this.response.repo=this.repo}.bind(this)};return config},getFilters:function(){console.log(this.repo);var filters="ga:pagePath=~/"+this.cmd+"/"+this.repo+"/";if(this.version){filters+=this.version}return filters}});</script>
</polymer-element><polymer-element name="ga-input" attributes="param" assetpath="">
<template>
  <style>#input:invalid{border:3px solid #8b0000;color:red}</style>
  <input type="date" id="input" min="2014-03-11" value="{{value}}" on-change="{{onChange}}" title="Note: metrics are not available before 2014-03-11">
</template>
<script>Polymer("ga-input",{value:"",ready:function(){if(this.param=="startDate"){this.value=gadash.util.lastNdays(28)}else if(this.param=="endDate"){this.value=gadash.util.lastNdays(0)}},getQuery:function(){var output={};if(this.param){output[this.param]=this.value}return output},onChange:function(e,detail,sender){this.fire("change",detail)},valueChanged:function(){if(this.param=="startDate"){if(new Date(this.value)<new Date(this.$.input.min)){this.value=this.$.input.min}}}});</script>
</polymer-element><polymer-element name="bower-dashboard" attributes="list" assetpath="">
  <template>
    <style>:host{display:block}#graphs{display:flex;flex-wrap:wrap;justify-content:center;padding:20px;margin-top:64px}h1,h2,h3,h4{font-weight:inherit;margin:0}polyfill-next-selector{content:':host header h2'}::content header h2{display:flex;align-items:center;font-weight:inherit;font-family:inherit;margin:0;color:currentcolor}polyfill-next-selector{content:':host header a'}::content header a{color:currentcolor;text-decoration:none}polyfill-next-selector{content:':host header'}::content header{margin-right:30px}polyfill-next-selector{content:':host header #logo'}::content header #logo{margin-right:5px;width:30px;height:21px;height:auto;vertical-align:middle}polymer-ui-card{padding:30px;margin-bottom:20px;margin-right:20px;flex:0 0 auto}ga-chart{min-width:450px;min-height:300px}b{font-weight:600}h3{margin:0;display:flex}h3 b{flex:1}ga-input /deep/ input[type=date]{border:none;border-radius:3px;font:inherit;width:150px;width:120px;box-sizing:border-box;outline:0;padding:0 5px}ga-input /deep/ input::-webkit-clear-button,ga-input /deep/ input::-webkit-inner-spin-button{display:none}core-toolbar{font:inherit;position:fixed;width:100%;z-index:1000;top:0}core-toolbar.core-dark-theme{background-color:#000}core-toolbar>div{margin-right:10px}ga-auth{flex:1;text-align:right}select{width:100px;font:inherit}:host /deep/ button{display:inline-block;-webkit-transition:box-shadow .2s,background .2s;transition:box-shadow .2s,background .2s;border:none;cursor:pointer;overflow:hidden;position:relative;padding:14px 14px 12px;border-top-left-radius:2px;border-top-right-radius:2px;border-bottom-right-radius:2px;border-bottom-left-radius:2px;outline:0;white-space:nowrap;font-size:13px;letter-spacing:.06em;vertical-align:middle;font-weight:400;background:#fafafa;box-shadow:rgba(0,0,0,.14902)0 1px 1px 0,rgba(0,0,0,.0980392)0 1px 2px 0}:host /deep/ button:hover{text-decoration:none;background:#fff;box-shadow:0 4px 10px 0 rgba(0,0,0,.1),0 2px 10px 0 rgba(0,0,0,.1)}</style>
    <core-ajax auto="" url="https://api.github.com/repos/Polymer/polymer/tags" handleas="json" response="{{polymerTags}}"></core-ajax>
    <core-toolbar theme="core-dark-theme">
      <content select="header"></content>
      <div><b>Start date</b>: <ga-input id="startDate" param="startDate" on-change="{{updateCharts}}"></ga-input></div>
      <div><b>End date</b>: <ga-input id="endDate" param="endDate" on-change="{{updateCharts}}"></ga-input></div>
      <div>
        <b>Repo</b>: <select id="repos" on-change="{{selectRepo}}">
          <option selected value="">All</option>
          <option template="" repeat="{{allRepos}}">{{}}</option>
        </select>
      </div>
      <div>
        <b>Version</b>: <select id="versions" value="{{selectedPolymerVersion}}">
          <option selected value="">All</option>
          <option template="" repeat="{{polymerVersions}}">{{}}</option>
        </select>
      </div>
      <ga-auth apikey="AIzaSyBbQWDjmdbQ4aVgTIpDLToGt1HJiO7hyQ0" clientid="1000094486480.apps.googleusercontent.com"></ga-auth>
    </core-toolbar>
    <section id="graphs">
      <template repeat="{{repo in list}}">
        <polymer-ui-card>
          <h3><b>{{repo}}</b> <span hidden?="{{!gaResponses[repo].totalPageViews}}">{{gaResponses[repo].totalPageViews}} installs</span></h3>
          <ga-chart auto="" ids="ga:75972512" metrics="ga:pageviews" repo="{{repo}}" cmd="install" version="{{selectedPolymerVersion}}" response="{{lastResponse}}"></ga-chart>
        </polymer-ui-card>
      </template>
    </section>
  </template>
  <script>(function(){function getReposFromURL_(){if(!location.search){return[]}var repoList=[];repoList.push(location.search.slice(1));return repoList}Polymer("bower-dashboard",{lastResponse:null,polymerPackage:null,ready:function(){this.list=getReposFromURL_()||[];this.originalList=[];this.gaResponses={};this.polymerVersions=[];this.polymerTags=[]},polymerTagsChanged:function(){this.polymerVersions=this.polymerTags.filter(function(v,i){return v.name[0]!="v"}).map(function(v,i){return v.name})},listChanged:function(){if(!this.originalList.length){this.originalList=this.list}for(var i=0,repo;repo=this.list[i];++i){this.gaResponses[repo]={totalPageViews:0}}},updateCharts:function(){var config={query:{startDate:this.$.startDate.value,endDate:this.$.endDate.value}};var charts=this.$.graphs.querySelectorAll("ga-chart");for(var i=0,chart;chart=charts[i];++i){config.query.filters=chart.getFilters();chart.gaQuery.execute(config)}},selectRepo:function(e,detail,sender){if(!sender.value){history.pushState({},null,"/");this.list=this.originalList}else{history.pushState({},null,"?"+sender.value);this.list=getReposFromURL_()}},lastResponseChanged:function(){this.gaResponses[this.lastResponse.repo].totalPageViews=this.lastResponse.totalsForAllResults["ga:pageviews"]},selectedPolymerVersionChanged:function(){this.updateCharts()}})})();</script>
</polymer-element>